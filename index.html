<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Générateur et affichage JSON recettes</title>
  <style>
    body { font-family: monospace, monospace; padding: 1rem; background: #f0f0f0; }
    button {
      padding: 1rem 2rem;
      font-size: 1.2rem;
      cursor: pointer;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      margin-bottom: 1rem;
    }
    pre {
      background: white;
      padding: 1rem;
      max-height: 60vh;
      overflow: auto;
      border-radius: 6px;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
  </style>
</head>
<body>

  <button id="generateBtn">Générer et afficher les 1000 recettes JSON</button>
  <button id="downloadBtn" style="display:none;">Télécharger le fichier JSON</button>

  <pre id="output"></pre>

  <script>
    const baseRecipes = [
      {lang:"fr",title:"Soupe 1",prep_time:"15 min",cook_time:"25 min",ingredients:["carottes","pommes de terre","oignons","sel"],instructions:"Mélangez et faites cuire 20 min."},
      {lang:"en",title:"Soup 2",prep_time:"12 min",cook_time:"20 min",ingredients:["carrots","potatoes","onions","salt"],instructions:"Mix and cook for 20 minutes."},
      {lang:"fr",title:"Salade 3",prep_time:"10 min",cook_time:"0 min",ingredients:["tomates","huile","sel","poivre"],instructions:"Mélangez les ingrédients frais."},
      {lang:"en",title:"Salad 4",prep_time:"8 min",cook_time:"0 min",ingredients:["tomatoes","oil","salt","pepper"],instructions:"Mix fresh ingredients."},
      {lang:"fr",title:"Omelette 5",prep_time:"5 min",cook_time:"10 min",ingredients:["œufs","fromage","sel","poivre"],instructions:"Battez les œufs, ajoutez le fromage, cuisez."}
    ];

    const generateBtn = document.getElementById('generateBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const output = document.getElementById('output');

    let allRecipes = [];

    function generateRecipes() {
      allRecipes = [];
      for(let i=0; i<200; i++) {
        for(let r of baseRecipes) {
          const baseTitle = r.title.split(' ').slice(0, -1).join(' ');
          const num = i * 5 + parseInt(r.title.split(' ').slice(-1)[0]);
          allRecipes.push({
            ...r,
            title: `${baseTitle} ${num}`
          });
        }
      }
    }

    function downloadJSON(data, filename) {
      const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }

    generateBtn.addEventListener('click', () => {
      generateRecipes();
      output.textContent = JSON.stringify(allRecipes, null, 2);
      downloadBtn.style.display = 'inline-block';
    });

    downloadBtn.addEventListener('click', () => {
      downloadJSON(allRecipes, 'recipes_1000.json');
    });
  </script>

</body>
</html>
